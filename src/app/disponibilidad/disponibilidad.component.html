<div class="background">
  <div id="snackbar" *ngIf="mostrarSnackbar" class="snackbar" [class.show]="mostrarSnackbar">
    Disponibilidad horaria cargada exitosamente
  </div>

  <div class="form-container">
    <form [formGroup]="disponibilidadForm" (ngSubmit)="guardarDisponibilidad()">
      <label for="especialidadSeleccionada">Seleccione una especialidad:</label>
      <select formControlName="especialidadSeleccionada" id="especialidadSeleccionada" class="form-control">
        <option *ngFor="let especialidad of especialidades" [value]="especialidad">{{ especialidad }}</option>
      </select>

      <label for="fechaSeleccionada">Seleccione un día:</label>
      <select formControlName="fechaSeleccionada" id="fechaSeleccionada" class="form-control" (change)="generarIntervalosHorarios()">
        <option *ngFor="let dia of proximosDias" [value]="dia.fecha.toISOString()">
          {{ dia.dia }}
        </option>
      </select>

      <label for="horario">Horario:</label>
      <select formControlName="horario" id="horario" class="form-control">
        <option *ngFor="let intervalo of intervalosDisponibles" [value]="intervalo">{{ intervalo }}</option>
      </select>

      <div *ngIf="disponibilidadForm.get('horario')?.hasError('horarioInvalido')">
        Horario fuera del rango permitido
      </div>

      <button type="submit" [disabled]="disponibilidadForm.invalid">Guardar Disponibilidad</button>
    </form>

    <button class="floating-logout-button" (click)="logout()">
      <i class="fa solid fa-power-off"></i> Cerrar sesión
    </button>

    <div class="center-button">
      <input type="button" class="btn-success" (click)="goTo('/home')" value="Volver a inicio" />
    </div>
  </div>
</div>
